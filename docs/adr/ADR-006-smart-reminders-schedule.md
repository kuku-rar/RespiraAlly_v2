# ADR-006: 採用三時段 (12:00/17:00/20:00) 智慧提醒策略

**狀態**: 已決定 (Accepted)

**日期**: 2025-10-14

## 背景 (Context)

對於 COPD 患者而言，持續的自我管理（如按時用藥、記錄健康狀況）是控制病情的關鍵，但也是最難堅持的部分。一個有效的數位健康工具必須擁有一個精心設計的提醒系統，既能有效促進使用者行為，又不會因為過度打擾而引起反感。我們需要決定提醒的頻率、時機和內容策略。

## 決策驅動力 (Decision Drivers)

*   **用戶黏性**: 提醒是維持使用者與產品互動、建立使用習慣的關鍵觸點。
*   **臨床目標**: 提醒系統的核心目標是提高健康行為的依從率。
*   **用戶體驗**: 必須避免通知疲勞 (Notification Fatigue)，個人化和情境化的提醒比通用提醒更有效。
*   **高齡用戶特性**: 需考慮目標用戶（中高齡）的生活作息習慣。

## 考量的方案 (Considered Options)

### 方案 1: 單一每日提醒

*   **描述**: 每天在固定時間（如晚上 8 點）發送一次提醒，要求用戶完成當日所有記錄。
*   **優點**:
    *   **實現簡單**: 邏輯非常簡單，只需一個每日排程任務。
    *   **干擾最小**: 每天只有一次通知。
*   **缺點**:
    *   **補救機會少**: 如果用戶錯過或忽略了這次提醒，當天的數據就很可能遺失。
    *   **缺乏情境**: 無法根據用戶當天的行為提供個人化回饋。
    *   **效果有限**: 單一提醒很容易被忽略。

### 方案 2: 用戶完全自訂提醒

*   **描述**: 讓用戶自行設定多個提醒的時間和內容。
*   **優點**:
    *   **完全個人化**: 賦予用戶最大程度的控制權。
*   **缺點**:
    *   **初始設定障礙高**: 對於高齡用戶來說，複雜的設定介面可能會讓他們望而卻步，導致許多人從未使用此功能。
    *   **冷啟動問題**: 新用戶不知道如何設定才是最有效的。

### 方案 3: 基於行為的觸發式提醒

*   **描述**: 系統監測用戶行為，當發現用戶長時間未記錄或未服藥時，觸發提醒。
*   **優點**:
    *   **高度相關**: 提醒總是與用戶的具體行為掛鉤。
*   **缺點**:
    *   **實現複雜**: 需要一個複雜的規則引擎來監測事件流。
    *   **可能產生負面情緒**: "偵測到您尚未服藥" 的提醒可能會讓用戶感到被監視，產生壓力。

### 方案 4: 固定的多時段、智慧化內容提醒 (最終選擇)

*   **描述**: 選擇三個符合一般作息的關鍵時間點 (午間 12:00, 傍晚 17:00, 睡前 20:00) 發送提醒。提醒的內容會根據用戶當下已回報的狀況動態生成。
    *   **12:00**: 純粹的問候與關懷，不檢查回報狀況，建立情感連結。
    *   **17:00**: 進度檢查點。若已完成，則給予鼓勵；若未完成，則溫和提醒，提供補救機會。
    *   **20:00**: 當日結算。總結當日表現，給予最終鼓勵或最後的補填提醒。
*   **優點**:
    *   **兼顧結構與彈性**: 固定的時間點幫助用戶建立節律，而智慧化的內容提供了個人化體驗。
    *   **多次補救機會**: 將一天分為多個檢查點，增加了用戶完成記錄的可能性。
    *   **正面導向**: 以問候和鼓勵為主，而非監督，降低了用戶的心理負擔。
    *   **實現難度適中**: 核心是一個排程器和一個訊息模板引擎，比複雜的規則引擎更容易實現。
*   **缺點**:
    *   **系統複雜度增加**: 相比單一提醒，需要設計多套訊息模板和判斷邏輯。
    *   **仍有打擾風險**: 每天三次提醒對某些用戶可能仍然過多，需要設計「疲勞避免機制」（如連續完成一週後降頻）。

## 決策 (Decision)

我們決定選擇 **方案 4: 三時段智慧提醒策略**。

這個方案在「有效引導」和「用戶體驗」之間取得了最佳平衡。它將一天劃分為「建立關係」、「中期檢查」、「總結收尾」三個階段，符合行為改變心理學的原則。通過動態生成個人化內容，我們可以最大化提醒的相關性和溫度，從而達成提升依從率的最終目標，同時也體現了產品的核心價值——陪伴與關懷。

## 後果 (Consequences)

*   **正面**:
    *   有望顯著提高每日日誌的填寫率和完整度。
    *   透過有溫度的互動，增強用戶與產品的情感連結和長期黏性。
    *   為後續的行為分析提供了更豐富的數據觸點。
*   **負面**:
    *   **開發工作量**: 後端需要開發一個排程服務 (APScheduler) 和一個能根據用戶數據渲染不同模板的通知服務。
    *   **內容維護**: 需要設計和維護多套訊息模板，並可能需要根據用戶回饋進行調整。
    *   **LINE 推播成本**: 每天多次的主動提醒（如果使用 Push API）會增加 LINE 官方帳號的訊息成本，需要精確計算並監控。
